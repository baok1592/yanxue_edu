<template>
	<view class="p-2">
		<u-collapse>
				<u-collapse-item :title="item.head" v-for="(item, index) in itemList" :key="index" :open="item.open" :disabled="item.disabled">
					{{item.body}}
				</u-collapse-item>
		</u-collapse>
	</view>
</template>

<script>
	export default{
		data(){
			return {
				itemList: [{
							head: "赏识在于角度的转换",
							body: "只要我们正确择取一个合适的参照物乃至稍降一格去看待他人，值得赏识的东西便会扑面而来",
							open: true,
							disabled: true
						},{
							head: "生活中不是缺少美，而是缺少发现美的眼睛",
							body: "学会欣赏，实际是一种积极生活的态度，是生活的调味品，会在欣赏中发现生活的美",
							open: false,
						},{
							head: "周围一些不起眼的人、事、物，或许都隐藏着不同凡响的智慧",
							body: "但是据说雕刻大卫像所用的这块大理石，曾被多位雕刻家批评得一无是处，有些人认为这块大理石采凿得不好，有些人嫌它的纹路不够美",
							open: false,
						}],
			}
		},
		onLoad(e){
			
		},
		onShow() {
			this.show_data();
		},
		methods:{
			//全局mixin便于下拉刷新与分享
			show_data(){
				this.get_vacate();
			},
			//获取请假信息
			get_vacate(){
				this.$http.get(this.$api.user.get_vacate).then(res=>{
					let list =[];
					let data =res.data;
					if(res.status==200){
						for(let item of data){
							let obj ={
								head:item.time,
								body:item.content,
								open: false,
							}
							list.push(obj)
						}
						this.itemList=list;
					}
					
				})
			},
		}
	}
</script>

<style>
	
</style>
